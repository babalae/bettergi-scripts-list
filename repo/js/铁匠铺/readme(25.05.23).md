// ==UserScript==
// @name 自动锻造魔矿脚本
// @version 2.00523
// @description 自动前往铁匠铺并锻造魔矿，通过识图模式自动选择矿石
// @author 呱呱 z
// @match 原神版本：5.6；BGI 版本：0.45.1
// ==/UserScript==

/\*\*

-   === 重要免责声明 ===
-   1. 使用风险
-   -   本脚本为开源学习项目，禁止用于商业用途或违反游戏条款的行为。
-   -   滥用可能导致游戏账号封禁，开发者不承担任何直接或间接责任。
-
-   2. 责任限制
-   -   本脚本按“现状”提供，不承诺兼容性、安全性或功能完整性。
-   -   因使用本脚本导致的账号、数据、设备损失，开发者概不负责。
-
-   3. 禁止条款
-   -   严禁逆向工程、恶意篡改或用于外挂等非法用途。
-   -   如游戏运营商提出要求，开发者保留随时停止维护的权利。
-
-   使用即表示您已阅读并同意上述条款。
-
-   Last Updated: 2025-05-12
    \*/

# 自动锻造魔矿脚本

## 简介

本脚本可自动前往铁匠铺并利用识图模式选择需要的矿石锻造魔矿。

## 文件结构

-   **main.js**：负责核心业务逻辑，包括前往铁匠铺和执行锻造任务。
-   **manifest.json**：脚本配置文件，记录基本信息和设置。
-   **settings.json**：用户配置文件，用于选择目标铁匠铺和指定矿石。

## 使用方法

1. 将脚本添加至调度器。
2. 右键点击脚本以修改 JS 自定义配置。
3. 在配置文件中选择目标城市的铁匠铺（默认选择枫丹铁匠铺），并设定所需矿石（默认：水晶矿）。
    - 注意：由于地图追踪功能尚不支持室内定位，故纳塔铁匠铺不可用。
    - 可选矿石：
        - 默认：水晶矿
        - 其他：紫晶矿、萃凝晶
        - 如需使用“星银矿石”、“白铁块”或“铁块”，请打开 `settings.json`，删除对应矿石前的 `//` 注释后保存配置。

## 后言

本脚本目前处于测试阶段，欢迎反馈问题至 QQ：1765137214。

## 更新日志

### 2.00523（2025.05.23）
-   新增仅领取锻造
-   优化点击逻辑
-   修复点击锻造的次数超过3次的bug
  
### 2.0（2025.05.22）
-   新增矿石不足时自动选择备用选矿
  
### 1.40521（2025.05.21）

-   新增矿石未能识别时自动选择备用选矿

### 1.4（2025.05.20）

-   新增通知功能

### 1.3（2025.05.15）

-   修复选择“萃凝晶”时无法识别的问题
-   仓库内新增标签。

### 1.2（2025.05.12）

-   修复选择“萃凝晶”时无法识别的 bug

### 1.1（2025.05.01）

-   优化矿石选取方式，改用识图模式
