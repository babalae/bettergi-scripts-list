# 自动幽境危战注意事项

## 零、前言

- 本代码仅供娱乐学习，下载请24小时内删除，禁止用于商业行为，如有BUG，非常欢迎请到测试群反馈或Q119996800。
- 本脚本基于地脉花和首领一条龙脚本进行改造。

## 一、省流注意事项

1. **使用前准备**：
   - 请在`<<幽境危战>>`中配置好战斗队伍。
3. **战斗实力**：
   - 请确保队伍具备足够的战斗实力，当前版本在战斗失败或执行错误，只会重试`一次`。

## 二、配置简介

1. **圣遗物奖励**：
   - 默认设置下，脚本不会修改圣遗物奖励。

2. **Boss挑战关卡选择**：
   - 必填项：请从上往下选择第几个Boss挑战关卡`（1至3）`，否则脚本将无法执行。

3. **挑战次数**：
   - 默认设置为`15`次，期间若树脂耗尽，脚本将自动结束。

4. **树脂顺序设定**：
   - 使用`/`隔开数字来设定树脂使用顺序，如`1/2`表示先使用浓缩树脂，再使用原粹树脂。
   - 树脂类型对应关系：
     - 1 = 浓缩树脂
     - 2 = 原粹树脂
     - 3 = 脆弱树脂
     - 4 = 须臾树脂
   - 默认设置：`1/2`，表示先使用浓缩树脂，再使用原粹树脂，不填的不使用"。

5. **最长战斗超时时间**：
   - 默认设置为`180`秒，一般情况下无需修改，建议和配置组中的战斗超时一致。

6. **开始战斗后的移动时间**：
   - 默认设置为`1`秒（注意单位为`秒`），由于战斗开始位置离Boss较远，请根据实际情况设定，一般情况下默认设置即可。

## 三、更新说明

### v.2.1版本：20250918

- **优化**：
1. 改用普通模板匹配浓缩树脂。
2. 适配6.0奖励领取页面，，添加原石使用选项，添加新圣遗物的选择。
3. 添加选择队伍功能。

### v.2.0版本：20250830

- **优化**：
1. 改用模板匹配进行浓缩树脂识别，使用颜色遮罩模板，全脚本要求BGI版本提高到0.47.1。
2. 针对2K和4K分辨率，降低匹配度要求，提高识别精度。

### v.1.9版本：20250828

- **新功能**：

- **优化**：
1. 优化内存释放。
2. 优化JS设置显示。

### v.1.8版本：20250809

- **新功能**：

- **优化**：
1. 进入各种页面的等待时间增加，防止卡顿报错。
2. 树脂识别错误纠正处理。


- **新功能**：

- **优化**：
1. 进入选择页面时，判断是否在爆发期。
2. 更改进入秘境的判断，避免因为聊天按键被改导致判断错误。


### v.1.7版本：20250807

- **新功能**：

- **优化**：
1. 进入选择页面时，判断是否在爆发期。
2. 更改进入秘境的判断，避免因为聊天按键被改导致判断错误。

### v.1.6版本：20250702

- **优化**：
  1. 优化没找到地脉花领奖的超时退出处理。
  2. 优化树脂识别OCR区域。
  3. 优化LOG和代码写法和整理。

### v.1.5版本（20250630）

- **新增功能**：
  1. 自动战斗失败原地`重试2次`，失败后再退出秘境重试。
- **优化**：
  1. 优化`LOG`显示。
  2. 优化`完全没有树脂`情况弹窗提示处理。
  3. 优化删除拾取`黑名单`文件（0.47.0后不会乱触发了）。
  4. 优化各种`异常状态`的退出处理方法。
  5. 优化当有须臾树脂时，脆弱树脂不显示时的处理。

### v.1.4版本（20250629）

- **新增功能**：
  1. 添加领奖后的树脂识别，不足时退出秘境，防止多打一次。
- **优化**：
  1. 优化`再次挑战`挑战的点击逻辑，添加重试。
  2. 优化相关自动拾取代码。
  3. 优化`难度选择`和`圣遗物选择`的识别范围。

### v.1.3版本（20250628）

- **新增功能**：
  1. 添加`自动重试`，战斗失败或执行错误会`重试一次`。
- **优化**：
  2. 优化退出点击时序和逻辑。
  3. 优化进入秘境后向前走的逻辑。
  4. 优化LOG输出显示内容。
- **修复**
  1. 修复默认状态下，选择长夜套的BUG。

### v.1.2版本（20250627）

- **新增功能**：
  1. 添加圣遗物`奖励选择`功能。
  2. 添加自动选择`难度`功能。
- **优化**：
  1. 优化逻辑处理。
  2. 加大战斗完成识别区域。

### v.1.1版本

- **备注**：此版本信息被省略。

### v.1.0版本（20250627）

- **功能**：脚本发布。