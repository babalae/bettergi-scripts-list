# 🌌 千星奇域·每周经验刷取(回放通关版)

### 🌟 功能介绍

- 🎥 依据用户预先录制的多个通关流程，随机选取一个执行通关。
- 📅 每周：自动重复通关指定的奇域关卡，自动追踪每周经验获取进度，达到上限后将自动跳过。
- 🧺 支持删除关卡存档后重新挑战（默认关闭），提升刷取效率（该特性不确定后续是否会被和谐）。
- 📆 每日：通关若干不同奇域关卡任务（默认关闭），且通关后领取奖励。
- 🏞️ 执行结束后自动返回提瓦特大陆，避免影响其他自动化流程。

## 📋 使用必读

- 不要在禁止联机的区域或秘境（如银月之庭等）运行此脚本，否则将无法运行。
- 如果开启“删除关卡存档”功能， **建议提前清理无用存档** ，保持存档列表简洁，减少翻页时间、提升查找效率、减少误差。
- 若内置的通关流程失效，请使用程序的 **[录制回放]** 功能，发挥主观能动性，自行录制 **进入关卡后的通关流程** 。
- 录制完成后，打开录制回放所在目录，将录制的脚本拷贝到本脚本目录下的 `assets/playbacks` 文件夹中（建议重命名）。
- 右键编辑脚本配置，根据你所录制的流程调整相关设置（包括奇域关卡、通关回放文件池、每次通关获取的经验值等）。
- 建议选择人气较高、不易下架（通关时长不是特别短的，**可参考关卡描述里的平均游玩时长**）、流程简单的单人游玩关卡进行录制（例如石头模拟器、抽卡模拟器、风景打卡地图等）。
- 每次通关根据成就完成数量的不同，每个成就可额外获得 **50** 点经验值（即每次通关最多可获得270点经验值）。
- ~~人有多大胆，地有多大产~~。**建议适当延长录制时的通关时间**，以降低关卡下架风险和自身运行风险。
- 含有部件礼箱类型的奖励不会领取，不会帮你做选择（如纪游只会领取经验奖励、不会领取巧趣醒转奖励）。

### 📖 使用方法

- 将本脚本添加至您的配置组中。
- 右键点击脚本自定义配置项。
- 配置好计划通关的关卡信息、通关回放文件等。
- 点击运行按钮。

### 🛠️ 脚本配置

| 配置项                 | 描述                             | 备注                                                               | 默认值                                         |
| ---------------------- | -------------------------------- | ------------------------------------------------------------------ | ---------------------------------------------- |
| room                   | 奇域关卡关键词或关卡GUID         |                                                                    | 20031486040                                    |
| playbacks              | 通关回放文件池                   | 逗号分隔，随机抽取，自行录制拷贝到assets/playbacks                 | 美景音乐播放器结算.json                        |
| expPerAttempt          | 每次通关获取的经验值             | 如果勾选删除关卡存档，每个成就加额外50经验值                       | 20                                             |
| deleteStageSave        | 删除关卡存档                     | 可重复达成成就，获取更多经验值                                     | false                                          |
| deleteStageSaveKeyword | 删除关卡存档关键字               | 关卡存档视图中的[关卡]列                                           | 音乐播放                                       |
| expWeeklyLimit         | 每周可获取的经验值上限           |                                                                    | 4000                                           |
| force                  | 忽略本周经验值已达上限           |                                                                    | false                                          |
| thisAttempts           | 指定通关次数                     | 0表示自动判断                                                      | 0                                              |
| dailyEnabled           | 执行每日通关任务                 | 完后会领取纪游经验、日活奖励                                       | false                                          |
| dailyRooms             | 每日奇域关卡关键词或关卡GUID     | 逗号分隔                                                           | 24429042323,28644538672                        |
| dailyPlaybacks         | 每日通关回放文件随机池           | 同一关卡逗号分隔，不同关卡分号分隔，自行录制拷贝到assets/playbacks | 通关回放1.json,通关回放2.json;40秒按1通关.json |
| dailyLimit             | 每日单个关卡通关上限             |                                                                    | 1                                              |
| dailyForce             | 忽略每日单个关卡通关上限         |                                                                    | false                                          |
| closeStageDialog       | 执行通关回放前关闭游戏说明对话框 | 使用通关回放录像自行关闭，则禁用                                   | true                                           |
| goToTeyvat             | 完成后返回提瓦特大陆             |                                                                    | true                                           |

### ❗ 注意事项

- 请确保游戏窗口分辨率比例为 `16:9`，否则可能影响脚本正常运行。
- 建议提前设置好快捷键，便于在需要时快速暂停或终止脚本。

## 🐛 问题反馈

[breadgrocery](https://github.com/breadgrocery/miliastra-experience-playback)
