# 自动小怪锄地规划

## 项目简介
该脚本支持根据用户配置生成路径组文件、运行路径组或执行路径文件。用户可以通过配置文件设置所需怪物数量、筛选条件（如是否排除水免路线或高危路线）以及效率计算权重。脚本会根据这些条件筛选出符合条件的路线，并生成路径组文件或直接运行路径文件，直到满足所需怪物数量。

## 功能特点
- **生成路径组文件**：根据用户配置筛选路线，并生成包含选中路线名称的路径组文件。
- **运行路径组**：直接运行生成的路径组文件，执行地图追踪任务。
- **执行路径文件**：直接执行指定的路径文件，运行地图追踪任务。
- **灵活的筛选条件**：支持多种筛选条件，帮助用户找到最适合的路线。
- **自动拾取**：根据用户选择启用或禁用自动拾取功能。
- **冷却时间检查**：在执行路径文件时，可以选择启用冷却时间检查，避免重复执行未刷新的路径。

### 配置项说明

| 配置项名称             | 类型         | 说明                                                                 |
|------------------------|--------------|----------------------------------------------------------------------|
| `operationMode`        | `select`     | 操作模式，可选值：`生成路径文件`、`执行路径文件`、`输出地图追踪文件`   |
| `requiredMonsterCount` | `input-text` | 所需怪物数量，范围为0到2000，默认值为1800                             |
| `excludeWaterFree`     | `checkbox`   | 是否排除水免路线，默认为不勾选（不排除）                               |
| `excludeHighRisk`      | `checkbox`   | 是否排除高危路线，默认为不勾选（不排除）                               |
| `weight`               | `input-text` | 权重，用于计算效率，默认值为2                                         |
| `outputFolderName`     | `input-text` | 文件夹/文件名称，留空则按默认规则命名                                   |
| `disableAutoPick`      | `checkbox`   | 是否禁用自动拾取，默认为不勾选（启用）                                   |
| `enableCooldownCheck`  | `checkbox`   | 是否启用冷却时间检查，默认为不勾选（不启用）                             |

### 权重说明
权重是一个用于调整路径效率计算的参数。它影响路径的排序和选择，具体如下：

- **权重小于5时**：路径的效率计算公式为 `效率 = 秒均的权重次方 × 怪均`。秒均是指每秒获得的怪物数量，怪均是指每个怪物的平均收益。权重越低，秒均的影响越小，怪均的影响越大。
- **权重大于等于5时**：路径的效率计算公式简化为 `效率 = 秒均`。此时，路径的选择主要基于秒均，即每秒获得的怪物数量。

通过调整权重，用户可以根据自己的需求和偏好选择更适合的路径。例如，如果用户更关注每秒获得的摩拉数量，可以将权重设置为5或更高；如果用户更关注每个怪物的平均收益，可以将权重设置为较低的值。

### 冷却时间检查
在执行路径文件时，如果启用冷却时间检查，脚本会检查路径文件的时间戳，跳过尚未刷新的路径。如果路径执行时间超过10秒，脚本会自动更新路径文件的时间戳，避免重复执行。重新生成路径文件可以强制刷新冷却

## 使用方法
1. **安装 BetterGI**：确保你已经安装了最新版本的 BetterGI，并且版本号不低于 `0.44.0`。
2. **下载脚本**：在脚本仓库订阅文件夹。
3. **配置脚本**：根据你的需求更改自定义配置中的配置项。
4. **选择操作模式**：
   - **生成路径组文件**：脚本将根据配置筛选路线，并生成包含选中路线名称的路径组文件。
   - **执行路径文件**：脚本将直接运行指定的路径文件，执行地图追踪任务。
   - **输出地图追踪文件**：脚本将选中的地图追踪文件复制到 `js` 目录下的 `pathingout` 文件夹中，方便用户直接复制使用。
5. **查看输出**：根据配置的操作模式，脚本将生成路径组文件、运行路径组或执行路径文件。

## 注意事项
- 如果选择“执行路径文件”，请确保路径文件存在，并且路径文件中的每个地图追踪文件都存在。
- 如果生成的路径组文件或执行路径文件不符合预期，可以检查自定义 配置是否正确。
- 确保 `index.txt` 文件存在且格式正确。
- 确保 `pathing/` 文件夹中包含所有地图追踪文件。
- 确保 `pathingout/` 文件夹存在，用于输出地图追踪文件。

## 联系作者
如果有任何问题或建议，请联系作者：
- **作者**：mno
