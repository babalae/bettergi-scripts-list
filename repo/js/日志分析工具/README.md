# BetterGI 日志分析工具

一个用于分析 Better Genshin Impact 自动化工具日志的网页工具，支持拖放操作、多种显示模式和丰富的快捷键功能。

**在线地址**: https://this-fish.github.io/Read_BetterGI_Log/index.html

## 🌟 核心功能

### 日志解析
- 📁 **拖放分析** - 直接拖拽日志文件到页面即可分析
- 📱 **移动端支持** - 手机/平板设备专用上传界面
- 🔄 **多文件合并** - 自动按时间顺序合并多个日志文件
- ⏰ **智能时间解析** - 自动处理跨日日志和时间推算

### 数据可视化
- 📊 **详细统计** - 复活次数、重试次数、卡死点坐标等完整数据
- 🎯 **坐标追踪** - 查看死亡前最近的X/Y轴坐标
- ⚡ **实时高亮** - 鼠标悬停行高亮，清晰指示当前查看行
- 🌓 **主题切换** - 自动/手动切换亮色/暗色主题(00:00~06:30时自动暗色主题)

### 交互功能
- ⌨️ **丰富快捷键** - 20+个快捷键覆盖所有操作
- 🔍 **智能筛选** - 按任务名称关键字筛选显示
- 📈 **数据聚焦** - 隐藏零统计任务，专注问题分析
- 📤 **导出分享** - 静态模式方便截图和分享分析结果

## 🚀 快速开始

### 基本使用
1. **打开工具** - 访问上述在线地址
2. **上传日志** - 拖放BetterGI日志文件（文件名以`better-genshin-impact`开头）
 - BetterGI日志文件所在位置如下
   - C:\你BGI所安裝的目錄\BetterGI\log
   - 或使用BGI打開目錄
   - <img width="905" height="599" alt="QQ_1759765939508" src="https://github.com/user-attachments/assets/615087a5-eead-4eb8-8028-4bfe74d9b8ff" />

3. **查看分析** - 工具自动解析并显示统计信息

### 移动设备使用
1. 点击"选择日志文件"按钮
2. 选择日志文件后自动解析
3. 使用底部功能按钮控制显示选项

## ⌨️ 快捷键大全

### 显示控制
| 快捷键 | 功能说明 | 状态指示 |
|--------|----------|----------|
| `T` | 切换时间列显示/隐藏 | 右下角提示 |
| `Y` | 切换统计列显示/隐藏 | 右下角提示 |
| `U` | 切换表格格式（新版/旧版） | 右下角提示 |
| `I` | 切换拾取物列显示/隐藏 | 右下角提示 |
| `J` | 隐藏/显示零统计任务 | 右下角提示 |
| `H` | 任务名称关键字筛选 | 左上角提示 |
| `P` | 进入/退出导出模式 | 左上角提示 |
| `[` | 进入/退出自由编辑网页模式 | 无 |
|`数字键4`|只显示指定时间范围内的日志记录| 左上角提示 |

### 视图操作
| 快捷键 | 功能说明 |
|--------|----------|
| `~` | 切换亮色/暗色主题 |
| `R` | 重置所有弹窗位置 |
| `W` | 页面上滚 |
| `S` | 页面下滚 |
| `G` | 打开/关闭配置组导航 |
| `Alt + F` | 切换全屏模式 |
| `.` | 新标签页打开工具 |
| `Alt + L` | 显示/隐藏功能按钮区 |
| `F2` | 快速打开上传文件 |

### 计算工具
| 快捷键 | 功能说明 |
|--------|----------|
| `6` | 计算原神下次60体力时间 |
| `7` | 计算原神下次40体力时间 |
| `8` | 计算自訂體力时间（輸入:現在體力,目標體力,體力CD分鐘） |
| `9` | 计算时间距离现在多久 |
| `右2` | 计算日期+3天 |
| `右3` | 计算两个时间点间隔 |
| `右5` | 计算N天后的日期 |
| `右7` | 计算原神下次120体力时间 |
| `右8` | 计算HH.MM后的时间 |
| `右9` | 计算时间+46小时后 |
| `M` | 统计指定拾取物拾取数量 | 

### 排序与筛选
| 快捷键 | 功能说明 |
|--------|----------|
| `Alt + I` | 切换拾取物显示顺序（按数量合并/按拾取顺序） |
| `O` | 排序指定拾取物的拾取效率 |
| 点击"开始时间"旁边的排序按钮 | 切换按读取顺序/按时间排序 |
| `ESC` | 在快速导航/筛选模式中退出 |
| `H`（在筛选模式中） | 退出筛选模式 |

### 鼠标操作
| 操作 | 功能说明 |
|------|----------|
| 点击配置组标题 | 折叠/展开该配置组 |
| 点击坐标单元格 | 固定/取消固定坐标弹窗 |
| 双击坐标单元格 | 重置弹窗位置到单元格中间 |
| 拖拽弹窗标题栏 | 移动弹窗位置（拖拽时自动固定） |
| 点击弹窗关闭按钮(×) | 关闭弹窗 |

## 📊 数据列说明

### 基本信息
- **任务名称** - 地图追踪任务或脚本名称
- **开始时间** - 任务开始执行的时间
- **结束时间** - 任务完成或中断的时间  
- **耗时** - 任务执行总时长

### 统计指标
- **复活次数** - 前往七天神像复活的次数（红色≥2次）。
  - **小数-0.9表示**：当前角色血量过低、返回七天神像回血
- **重试次数** - 路线重试次数（红色≥2次）
  - **注意**：当只有重试次数而无卡死或复活时，任务名称会变为红色
- **疑似卡死** - 卡死脱离尝试次数（可查看坐标）
- **过远跳过** - 距离过远跳过的路径点（红色≥2次）
- **战斗超时** - 战斗超时次数（红色≥1次）
- **传送失败** - 传送失败重试次数（红色≥3次）

### 交互功能
- **悬停查看** - 鼠标悬停统计数字显示详细信息
- **双击重置** - 双击单元格重置弹窗位置
- **点击固定** - 点击单元格固定/取消固定弹窗

## 🎯 高级功能

### H键 - 任务筛选模式
```
输入格式：关键词1,关键词2,关键词3
示例：蒙德,璃月,稻妻
```
- 多关键字逗号分隔
- 支持部分匹配（不区分大小写）
- 筛选时自动隐藏所有拾取物行
- 左上角显示当前筛选状态

### 数字键4 - 时间筛选模式
按下数字键4后，会显示两个时间输入框：
第一个输入框（开始时间）：留空则默认为当天00:00:00
第二个输入框（结束时间）：默认为当前时间

时间格式要求：2026/01/22 18:59:00
- **功能说明**：仅显示指定时间范围内的日志记录
- **主要用途**：配合`M`键统计指定时间内的拾取物数量
- **注意事项**：与`H`键筛选功能冲突，不能同时使用
- **退出方式**：再次按下`数字键4`键或`H`键退出时间筛选模式

### J键 - 零统计任务隐藏
- 自动隐藏所有異常统计值为零的任务
- 帮助聚焦有问题任务
- 与筛选模式协同工作

### P键 - 导出静态模式
- 所有弹窗内容内联显示
- 方便截图和保存分享
- 使用浏览器"另存为"功能导出

### G键 - 配置组导航功能

- **快速访问** - 按G键或点击右上角「📋 导航」按钮打开导航面板
- **智能搜索** - 输入配置组名称关键词实时筛选匹配项
- **精准跳转** - 点击搜索结果直接滚动到对应配置组位置
- **便捷控制** - 点击右上角开关按钮或按ESC键关闭导航

#### 操作指引
1. **开启导航** - 按 `G` 键或点击页面右上角「📋 导航」按钮
2. **搜索目标** - 在搜索框输入配置组名称（支持部分匹配）
3. **快速跳转** - 从搜索结果列表中选择要查看的配置组
4. **关闭面板** - 点击右上角导航开关或按 `ESC` 键退出

**提示**：导航面板右上角设有开关按钮，可随时点击关闭，方便快捷操作。


## 🎨 界面说明

### 表格格式
**旧版格式**（默认）
- 单行显示完整任务信息
- 适合详细数据分析

**新版格式(BGI現版格式)**（按U切换）
- 任务信息分两行显示
- 适合快速浏览

### 特殊事件检测
工具自动检测并标记以下种特殊事件，按错误类型分类：

| 事件类型 | 颜色标记 | 事件说明 | 
|----------|----------|----------|
| **自动恢复事件** | | |
| 自动吃药恢复 | 🟢 绿色 | 自动处理红血状态 |
| 自动领取派遣任务 | 🟠 橙色 | 正常功能执行 |
| **暂停与中断事件** | | |
| 快捷键暂停 | 🟣 粉色 | 用户手动暂停 |
| 窗口焦点异常 | 🟣 粉色 | 游戏窗口失去焦点 |
| 切换区域失败 | 🟣 粉色 | 游戏区域切换失败 |
| **用户配置错误** | 🔧 | |
| 路径文件丢失 | 🔴 红色 | 配置文件缺失 |
| 未匹配战斗脚本 | 🔴 红色 | 战斗脚本配置错误 |
| 战斗策略错误 | 🔴 红色 | 策略脚本语法错误 |
| 缺少元素采集角色 | 🔴 红色 | 队伍缺少对应元素角色 |
| 缺少纳西妲角色 | 🔴 红色 | 队伍缺少纳西妲角色 |
| **BGI运行时错误** | 🐛 | |
| 队伍角色识别失败 | 🔴 红色 | 角色识别功能异常 |
| 未能返回主界面 | 🔴 红色 | 界面导航失败 |
| 切换队伍失败 | 🔴 红色 | 队伍切换功能异常 |
| 自动重启bgi | 🔴 红色 | 调度器任务出现未预期的异常，自动重启bgi |
| **网络与地图问题** | 🌐 | |
| 打开地图失败 | 🔴 红色 | 地图功能异常 |
| 传送点不存在 | 🔴 红色 | 传送点识别问题 |
| 识别大地图失败 | 🔴 红色 | 地图定位失败 |
| **用户主动操作** | 👤 | |
| 脚本异常结束 | 🔴 红色 | 任务被异常中断 |
| **其他** |  | |
| 缺少脚本指定角色 | 藍紫色 | 路徑中的简易策略脚本存在着隊伍中沒有的角色的提示 |



**计数显示**：同一事件多次发生时会显示次数，如"快捷键暂停 (3)"

## 📱 移动端适配

### 专用界面
- 触摸友好的大按钮设计
- 自适应屏幕尺寸的布局
- 简化的操作流程

### 功能按钮区
6个核心功能按钮：
1. 🌓 主题切换
2. ⏰ 时间列控制
3. 📊 统计列控制
4. 📦 拾取物控制
5. 📤 导出模式
6. 🔍 异常任务筛选

## 🔧 技术规格

### 支持格式
- **日志版本**: BetterGI 0.54.0
- **文件命名**: `better-genshin-impact` 开头
- **日期识别**: 自动从文件名解析日期
- **编码支持**: UTF-8 文本格式

### 性能特性
- 💾 客户端本地处理，无数据上传
- 📈 虚拟滚动支持大数据量
- 🔄 实时响应式布局

## ❓ 常见问题

### 数据解析问题
**Q: 为什么有些任务显示"进行中"？**  
A: 日志中任务没有正常结束记录，可能是脚本被中断。

**Q: 坐标信息为什么有时缺失？**  
A: 只有在卡死或复活前有坐标记录时才会显示。

**Q: 时间显示异常怎么办？**  
A: 工具会自动处理跨日情况，如仍有问题请检查日志完整性。

### 功能使用问题
**Q: 如何分享分析结果？**  
A: 使用P键进入导出模式，然后用浏览器"另存为"保存HTML文件。或截图分享

**Q: 筛选模式如何退出？**  
A: 再次按下H键即可退出筛选模式。

**Q: 弹窗位置乱了怎么办？**  
A: 按R键重置所有弹窗位置，或双击单元格重置单个弹窗。

### 移动端问题
**Q: 手机上传文件失败？**  
A: 确保文件命名格式是`better-genshin-impact日期.log`。

**Q: 移动端按钮显示不全？**  
A: 横屏模式可获得更好体验。

## 📋 更新日志
### 20260126
 - 適配部份日志
  - 采集cd管理-距离异常，不记录数据
  - 未匹配到任何战斗脚本
### 20260125
 - 適配部份日志
  - 鋤地2.0.3坐标获取异常，不记录运行数据
  - 茶包版超時放棄路徑
### 20260122
 - 增加 右4 快捷鍵 - 只顯示指定時間內日志記錄
    - 此功能与 H 键筛选冲突，主要用于配合 M 键统计拾取物数量
右4按下后會顯示2個輸入
### 20260120
 - 新增通過網地址讀取預設參數
   - 支持預設黑白模式、是否打開功能欄
### 20260119
  - 新增顯示配置組運行多少個任務
### 20260118
  - 更新部份BGI_0.55.0關鍵字&部份腳本關鍵字
### 20260113
 - 新增 茶包版部份運行路徑時資訊
   - 网络恢复中...
   - 自动吃药
   - 疑似卡死
### 20260111
 - 新增 队伍角色增加赶路位显示
 - 修正 部份带皮肤的行走位 生存位 赶路位不能正常显示问题
### 20260105
 - 队伍資訊增加 是否開啟旋转索敌模式

*更早版本包含基础日志解析和显示功能及其他功能*

## 📞 技术支持

### 注意事项
- 🔒 工具完全在浏览器本地运行，无数据上传
- 📝 仅之支持简体模式下所输出的BetterGI日志档
- ⚠️ 分析结果仅供参考，不保证100%准确

---

*最后更新: 2026-01-25*  
*适配 BetterGI 0.55.0+ 版本*