**重要免责声明：**

1. **使用风险：**
   1. 本脚本为开源学习项目，禁止用于商业用途或违反游戏条款的行为。
   2. 滥用可能导致游戏账号封禁，开发者不承担任何直接或间接责任。

2. **责任限制：**
   1. 本脚本按“现状”提供，不承诺兼容性、安全性或功能完整性。
   2. 因使用本脚本导致的账号、数据、设备损失，开发者概不负责。

3. **禁止条款：**
   1. 严禁逆向工程、恶意篡改或用于外挂等非法用途。
   2. 如游戏运营商提出要求，开发者保留随时停止维护的权利。

使用即表示您已阅读并同意上述条款。

---

### 一、**使用方法及配置建议**
1. 首先请在配置组中点击 **+添加** ，找到本js（锄地一条龙）后加入配置组

2. 在配置组界面中点击 **⚙️设置** 
   - 在 **地图追踪行走选项** 中请关闭（即不填写）切换队伍，该选项目前在配置组中只有一个js时不生效，请在js自定义配置中填写配队
   - 如有需要，按照对应的配队，配置对应的生存位和行走位
   - 配置组中的 **不在某时执行** 目前无法打断js的运行，请不要尝试通过配置该项来使本js在特定时间终止运行
   - 在 **战斗配置** 中请为你使用的队伍选择合适的战斗策略，战斗策略相关内容存在疑问请参考文档，配队思路请参考【第四部分】。
   - 请打开 **自动检测战斗结束** ，按需配置相关选项，其中 **检查战斗结束的延时** 不推荐默认的1.5秒，建议缩短至0.5秒以下
   - 强烈建议关闭 **自动拾取掉落物** ，该选项开启后会显著提高运行用时和卡死风险
   - 建议开启 **战斗结束后执行万叶长e**，可显著提高狗粮收益
   - **战斗超时** 建议根据队伍练度适当缩短，尤其小怪路线，推荐60秒以下，相反，队伍练度过低时可以适当延长
   - 其余选项如果你不确定其作用建议保持默认状态，或询问群友等

3. 在配置组界面中右键js，选择 **修改js脚本自定义配置** ，参考后续介绍按需修改各个配置选项
 - 第一部分：路径组执行配置：该部分影响执行的具体细节
   - **执行模式：** 
   - - 默认选择 **运行锄地路线** ，选择该模式会按照后续设置选择并运行相应路线
   - - 选项 **输出地图追踪文件** ，会将选择的路线读取并分组输出到js文件夹下pathingOut文件夹
   - - 选项 **强制刷新所有运行记录** ，用于清除js记录的运行历史
   - **选择执行第几个路径组：** 本js支持分组运行地图追踪，分组方式详见后续选项，需要分组运行时请确保精英目标数量，小怪目标数量，各个路径组的标签等信息【完全相同】，复制配置组时未知原因无法正确复制配置，请不要使用
   - 如果你需要分组执行，请先建立和组数对应的配置组，分别添加本js，路径组一要【排除】的标签填写需要完全禁用的标签，如蕈兽，路径组二要【选择】的标签填写需要分配到路径组二的路线的标签，如小怪，不同配置组的js中选择对应的配队和路径组编号，其他配置保持默认的情况下即可实现精英和小怪分队伍和配置组锄地，更多路径组数量以此类推
   - **本路径组使用配队名称：** 填写该路径组使用的配队名称，js会自动切换
   - **拾取模式：** 需要注意，沙暴路线只在模板匹配模式下可用
   - - 模板匹配拾取：推荐使用，速度最快，性能消耗最低
   - - bgi原版拾取：使用bgi自带的拾取
   - - 不拾取：不拾取任何物品
   - **拾取时间参数：** 建议先不要调节，观察到拾取异常时再根据自定义配置提示调节
   - **组内路线排序模式：** 效率降序用于当你的时间不足以刷完所有路线时使用，先刷效率最高的（可配合优先关键词使用，这些路线效率会被视为最高）；高收益优先选项将会将包含高倍率怪物（如600，400，81，飞萤）的路线排在前面，避免因为超出上限损失这部分收益
   - **输入不运行的时间或时间段的小时数** 当你需要让js在特定的时间终止运行时，按描述填写，js会在距离目标时间小于五分钟时终止运行并等待到目标时间
   - **泥头车模式：** 接近战斗地点（距离5-30）时，提前让指定序号的角色开e，建议以下角色开启：芙宁娜，爱可菲，雷电将军，不建议各种盾位或纳塔角色开启。
 - 第二部分：路线选择与分组配置：该部分将决定路线的选择与分配，js将尝试按照以下配置选择路线以达到目标数量的怪物，并分配到不同的路径组，在第一部分中选择不同的路径组以执行对应的路线
   - **账户名称：** 本js支持多用户，不同账户的记录分开存储，当你需要使用多用户时，请在这里填写不同的文本来区分不同账号的记录，如果你只使用一个账号，请不要修改该选项
   - **路径组x标签：** 本js使用不同的标签来禁用或分组路线，多个标签之间使用中文逗号分隔，目前支持的标签如下
   - - 水免：表明路线含有水元素伤害免疫的怪物，使用以水元素伤害为主的队伍处理该路线时可能较为麻烦
   - - 次数盾：表明路线含有带有次数盾的怪物，常规配队破盾效率较慢
   - - 高危 ：表明路线战斗强度较高，可能存在生存压力
   - - 传奇 ：表明路线含有地方传奇，战斗强度通常极高，请评估后选择是否排除
   - - 蕈兽 ：表明路线含有蕈兽，蕈兽遇到雷火元素时会发生转化，转化后占据精英怪物的名额却只掉落少量摩拉，通常建议禁用
   - - 小怪 ：表明路线只含小怪，战斗强度低，且无需携带万叶来拾取可能掉落的狗粮，可以适当携带等级较低或不上场的角色来获取经验收益
   - - 狭窄地形 ：表明路线存在部分非常狭窄，任何位移技能都容易导致致命后果
   - - 分组逻辑：不含路径组1排除标签和任何其他组标签的路径会进入路径组1，剩余路径若含有路径组x的标签之一，则会进入路径组x
   - - 使用示例：路径组一填写蕈兽，禁用蕈兽路线，路径组二填写次数盾，水免，处理路径组一的配队难以处理的次数盾和水免怪物，路径组三填写小怪，队伍中放升级中角色获取经验，将本js添加到【多个配置组】中，根据路径组的具体情况配置每个配置组的设置
   - - 新增支持自定义标签，将会尝试将未知的标签通过文件路径，description匹配，含有对应关键词的路线即视为含有这些标签
   - **路线效率计算权重：** 影响js评估路线价值，计算公式如下，权重越大越看重总收益
   - $$ 怪均^k \times 秒均 $$
   - **自动优化：** js将根据运行记录调整每条路线的预期运行时间，具体逻辑为，至多6条记录，去除一个最大值、一个最小值后，每条记录占据20%的权重，剩余权重由默认数据填充。如果你不想要这个功能，请禁用。
   - **目标数量：** 选取路线目标达到的精英怪数量，默认为400，同理小怪数量默认为2000
   - **优先关键词：** 含有关键词的路线会被视为拥有最高效率，例如填写600来让所有600怪物优先考虑，填写骗骗花来优先考虑骗骗花
   - **排除关键词：** 含有关键词的路线会被排除，例如填写纳塔来排除所有纳塔路线，同样使用中文逗号分隔

4. **只建议在原神中设置1080p，60帧使用，其他分辨率或帧率出现任何问题都是正常现象**
5. **不建议使用12小时制时间（虽然也能跑）**
6. **注意，仅选择路径组一的配置组的第二部分路线与分组配置有效，选择路径组一的配置组的本js运行后将保存配置，供其他路径组读取，其他路径组的自定义配置中第二部分完全无效，该设定是为了确保各个配置组中同账户的路线分配完全相同**

### 二、**锄地收益**
 - 击杀精英怪和小怪通常会掉落对应的材料和一定量摩拉，同时为队伍中角色提供经验，精英怪还会概率掉落三四星的战狂、教官、流放者圣遗物
 - 击杀小怪和精英怪获取收益存在限制，超过400只精英怪和2000只小怪的部分不会再产生收益
 - 不同怪物的价值不同，小怪通常掉落32-49摩拉，精英怪通常掉落200摩拉，部分怪物价值较高，会成倍增加掉落，如纳塔龙武士占据一个小怪名额但是掉落双倍（64-98）的摩拉，丘丘王占据一个精英名额但是掉落三倍（600）的摩拉
 - 本js的核心功能就是从内置的路线中按照配置选择路线组合来在较短的时间内获取较高的收益，默认配置下预期可获取约23.5万摩拉和5.5万经验的圣遗物
 - 请按照自己的情况合理安排精英和小怪的目标数量，建议优先刷满400个精英，如果有多余时间再刷小怪

### 三、**拾取模式**
 - 目前bgi默认的自动拾取无法有效从怪物材料中分拣出狗粮，长期锄地容易造成背包中牛角等材料达到上限而影响自动拾取，关闭拾取又会无法捡到狗粮损失收益
 - 使用本js可实现基本上只拾取目标物品，默认配置下将拾取狗粮和全部怪物材料，并自动将达到上限的材料添加至黑名单中，也可选择只拾取狗粮
 - 黑名单每个账户独立存储，可以打开balcklists文件夹查看并编辑每个账号的黑名单
 - 支持使用bgi原版拾取或完全不拾取任何物品，不建议使用
 - 同时提供了其他各种材料的图片，在assets/其余材料图.zip中，需要拾取的请自行解压然后将对应图片放到assets/targetitems中，预留文件夹中的图片不会被更新覆盖（如果更新没出问题的话，出问题去踹氨气屁股）

### 四、**锄地配队建议**
 - bgi锄地没有那么智能，暂时无法像手动一样灵活进行各种需要索敌的操作，同时各种位移技能也很容易干扰锄地的正常运行，因此建议的锄地配队组队思路如下：
 - 一个合理的bgi锄地配队至少应当包含抗打断、召唤物输出、奶妈，精英怪的配队还应当带上万叶
 - 抗打断位用于确保技能的正常释放，通常为护盾角色，只建议e启动角色，如茜特菈莉、伊涅芙等，四星角色莱伊拉也可用，通常不建议使用钟离，柱子影响较大。此外，迪希雅的领域可以给予领域内角色抗打断和分摊伤害，也可以作为抗打断位使用。如果你执意不携带任何抗打断位，角色技能将很容易被怪物打断。
 - 召唤物输出目前可靠的只有芙宁娜，爱可菲可以在没有芙宁娜时作为下位替代，两个角色都有时非常推荐同时携带。如果两者都不携带，锄地的效率将会很低。非常不建议在没有任何形式的自动索敌的情况下使用bgi锄地。
 - 奶妈非常建议携带，可以较大提升bgi锄地的稳定性，减少复活次数从而提高总体效率，同时保持50%以上的血线将提高海鲜的伤害。总体来说e启动奶＞q启动奶，白术、希格雯、爱可菲、芭芭拉、夏沃蕾都可以使用，仅当你有满命芙宁娜或钟离等时，可以考虑不携带奶妈。
 - 其他补充伤害的角色，他们的作用是快速清理近处较多的怪物，有利于提高偏对单的海鲜和烹饪锅处理怪物的效率，只有在你队伍有空余位置时才建议携带（通常没位置），较推荐使用的角色有：玛薇卡、那维莱特、万叶（扩散清杂和聚怪）
 - 剩余角色在bgi锄地中基本上没有明显作用，如果非要带着锄地，不建议切出来，全程后台即可
 - 冻结可以打断怪物行动，提高队伍生存能力，建议携带能够冻结怪物的角色，不建议携带会碎冰等破坏冻结状态的角色（尤其钟离）
 - 综上，低配较为推荐芙宁娜、莱伊拉、万叶、芭芭拉，中配最推荐爱可菲、芙宁娜、万叶、茜特菈莉，部分角色可能可以身兼多职，请合理衡量他们担任不同位置的能力，并据此决定是否可以腾出空间携带其他角色
 - 以下是一些反面例子：
 - 四神队：没有奶，稳定性差，钟离柱子触发攀爬影响较大，雷神和草神占了两个格子但是作用很小，纯混子，各个位置之间没有联动
 - 本体自带的‘群友分享’战斗策略，曾经在大世界探索和秘境中为大家提供了不少便利，如今只适合秘境使用，不适合锄地；特别是缺少召唤物输出、依赖 Q 启动的体系，更适合怀旧体验而非当前的锄地需求。
 - 夜兰、克洛琳德等技能难以避免较大位移的角色，很可能在战斗中跑到奇怪的位置卡死
 - 各种锄精英，却有万叶不带万叶的，不带万叶基本上捡不到狗粮，每天亏6w狗粮

### 五、**其他**
 - **想要测作者怎么办** ：来q群1057307824测测莫酱（有其他问题也行）
