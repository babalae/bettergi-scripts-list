# 说明

该脚本按挖矿路线的效率从高到低挖矿，记录矿产资源的刷新时间，自动规划挖矿路线，可选挖矿种类和挖矿区域。

- 脚本将在启动后持续挖矿，直到以下三个条件中的**任一**条件满足
  1. 挖矿的个数达到预定数值
  1. 挖矿持续时间达到预定数值
  1. 当前时间已过预定时间范围

        填写一个中国标准时间（CST）的时间范围或时间点。

        例如填写时间`10:30`，如果我们在`7:00`开始挖矿，那么将在挖矿约3个半小时后停止。

        例如填写时间`03:50`，如果我们在`22:00`开始挖矿，那么将在第二天`03:50`左右停止。

        例如填写时间`23:00~03:50`，如果我们在`23:30`开始挖矿，那么将在第二天`03:50`左右停止；如果我们在`22:30`开始挖矿，脚本会因不在预设时间范围内立即停止。

  如果三个条件均未填写，脚本将在挖完所有的矿后停止。注意如果第一次运行这个脚本，挖所有矿的过程可能持续十数个小时。

- 地面挖矿队伍中请带诺艾尔，只挖水下的矿则无此限制。如需进一步了解，请阅读[进阶使用](#进阶使用)中的相关内容。
- 矿产资源的刷新时间记录在脚本目录下`local/persistent_data.json`文件中，升级或重新安装BetterGI可能导致该记录丢失，请自行备份。
- 如果`需要战斗的路线`选择了`全跳过`选项，将不会运行所有需要打败怪物的挖矿路线。但角色仍可能在运行部分路线时被路过的怪物摸两下，请仍保证队伍有一定的生存能力。

## 进阶使用

- 如果有多个游戏帐号，可在最后一个输入框内为每个游戏帐号填写一个唯一的字符串以使他们的刷新时间分开保存，互不干扰。这个唯一的字符串并不必须是帐号的UID，只要互不相同就可以了。
- 对于因没有完成地图探索任务而无法正常完成某些路线的玩家，如果不想跳过整个区域，可以将脚本文件名称填入`local/disabled_paths.txt`文件中以跳过这些地图追踪脚本，语法请参考`assets/disabled_paths.conf`。
- 如果一定要使用其他角色挖矿，请在自定义挖矿动作中填写相应的角色和挖矿动作，例如`迪希雅 attack(2.0)`。也可填写`默认`或`default`来使用全局设置中的挖矿动作。使用此选项可能导致产量下降或其他问题，对此我们不做任何保证，亦不能提供技术支持。

## ChangeLog

### 0.25

- 修复坐标监控逻辑中未指定地图的bug，special thanks to [@this-Fish](https://github.com/this-Fish)

### 0.22

- 增加处理过期物品的弹出窗口

### 0.18

- 修复坐标监控逻辑中的bug

### 0.16

- 日志实时输出进度

### 0.15

- 子任务结束时如果坐标未变化则不写入记录

### 0.14

- 允许用户使用BetterGI默认的挖矿逻辑

### 0.11

- 增加排除挪德卡莱地区的选项

### 0.10

- 在挖矿结束时发送通知消息
- 修复新获取矿石无法正确识别的bug

### 0.9

- 增加虹滴晶路线

### 0.8

- 适配BetterGI 0.50.0，移除DPI缩放适配的选项

### 0.7

- 允许用户自定义挖矿角色和动作

### 0.6

- 增加跳过与精英怪战斗路线的选项

### 0.5

- 更新路线规划算法

### 0.4

- 重构自定义配置选项

### 0.3 

- 开始运行之前切换配置组中设置的队伍（如果有）
- 增加手动启用DPI缩放适配的选项

### 0.2

- 对于较快结束的任务不写入记录
- 支持用户自行定义要跳过的路径追踪子任务
- 输出路径追踪子任务的开始和结束日志，以便于日志分析

### 0.1

- 首次发布
